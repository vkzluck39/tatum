"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const model_1 = require("../model");
const ada_1 = require("./ada");
describe('ADA transactions', () => {
    it('should test preparing ADA fromAddress transaction', async () => {
        const body = new model_1.TransferAdaBlockchain();
        body.fee = '0.5';
        body.changeAddress = 'addr_test1qqnp3dfw869cz74jfvkmvrs47fwmhwx7c96n44u80w2mrskkrxsadwhjss06kp6tke68rt0apcl864tlqw40ddy5jumqr7g7xy';
        body.fromAddress = [{
                address: 'addr_test1qqnp3dfw869cz74jfvkmvrs47fwmhwx7c96n44u80w2mrskkrxsadwhjss06kp6tke68rt0apcl864tlqw40ddy5jumqr7g7xy',
                privateKey: 'a01136f20a0a1fb0ec7833111cbef4207f2b7fda0f942c6fccba0aa72fed115dc70795a4d49ec6b50e3bb1820e910389aed8ab0d75ec88eac0883b22d49473b17a72599737528714076956f71377dab57b1ceea5c63ac6669d547a22058d1f4402f74c3ba9d7061e0f4ac3c29770a20f91ae2e648059cf1010600e6e0f6b921d',
            }];
        body.to = [{
                address: 'addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3',
                value: 1,
            }, {
                address: 'addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3',
                value: 1,
            }];
        try {
            const txData = await ada_1.prepareAdaTransaction(body);
            expect(txData).toBe('83a40081825820c62caf692fca2b7b10ab2fe0ce9171253867ce36078f4564c264223dad0e94c1020183825839000743d16cfe3c4fcc0c11c2403bbc10dbc7ecdd4477e053481a368e7a06e2ae44dff6770dc0f4ada3cf4cf2605008e27aecdb332ad349fda71a000f4240825839000743d16cfe3c4fcc0c11c2403bbc10dbc7ecdd4477e053481a368e7a06e2ae44dff6770dc0f4ada3cf4cf2605008e27aecdb332ad349fda71a000f4240825839002618b52e3e8b817ab24b2db60e15f25dbbb8dec1753ad7877b95b1c2d619a1d6baf2841fab074bb67471adfd0e3e7d557f03aaf6b49497361a3788e688021a0007a120031a02fb4e19a100818258207a72599737528714076956f71377dab57b1ceea5c63ac6669d547a22058d1f445840d373d32b504ff078e907e755e58cad89b7c693d155e23b05cace04092d27d444423288008906a5b22456ef4aae9b282462332888dbf0b75193a8973d90d1aa01f6');
        }
        catch (e) {
            console.error(e);
            fail(e);
        }
    });
    it('should test sending ADA fromAddress transaction private key', async () => {
        const body = new model_1.TransferAdaBlockchain();
        body.fee = '0.5';
        body.changeAddress = 'addr_test1qp33h99feurpn7n8cezqthh75723q5kjwqmthaf073y7edlg9xj6jj5qs9pe3nxq8rx59aa5qlmjrgsm0jt22hh3ll5q7n3j5s';
        body.fromAddress = [{
                address: 'addr_test1qp33h99feurpn7n8cezqthh75723q5kjwqmthaf073y7edlg9xj6jj5qs9pe3nxq8rx59aa5qlmjrgsm0jt22hh3ll5q7n3j5s',
                privateKey: '2090e65cdf985bdada08ee383bfa24cb6c7143916fa948f1883ae1a6c0ff8e546fd2af77272c377a87aca22d75b71a95420c95378d1fd9e7f6a034b8312d47d341c9185113c7d9b2308523844e161f63d038497d7cdee1d989341ee38ef307d34893c218e0aff8561120e95e708fff007a935640f163c186d2865b4067cd959c',
            }];
        body.to = [{
                address: 'addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3',
                value: 1,
            }];
        try {
            const txData = await ada_1.sendAdaTransaction(body);
            console.log(txData);
            expect(txData).toHaveProperty('txId');
        }
        catch (e) {
            fail(e);
        }
    });
    it('should test sending ADA fromUTXO transaction', async () => {
        const body = new model_1.TransferAdaBlockchain();
        body.fee = '0.5';
        body.changeAddress = 'addr_test1qqnp3dfw869cz74jfvkmvrs47fwmhwx7c96n44u80w2mrskkrxsadwhjss06kp6tke68rt0apcl864tlqw40ddy5jumqr7g7xy';
        body.fromUTXO = [{
                txHash: 'c44db60c36824f1d8901ee1f7d5597d426fe00c1fa8e6872e70bef318e4bc051',
                index: 2,
                privateKey: 'a01136f20a0a1fb0ec7833111cbef4207f2b7fda0f942c6fccba0aa72fed115dc70795a4d49ec6b50e3bb1820e910389aed8ab0d75ec88eac0883b22d49473b17a72599737528714076956f71377dab57b1ceea5c63ac6669d547a22058d1f4402f74c3ba9d7061e0f4ac3c29770a20f91ae2e648059cf1010600e6e0f6b921d',
            }];
        body.to = [{
                address: 'addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3',
                value: 1,
            }, {
                address: 'addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3',
                value: 1,
            }];
        try {
            const txData = await ada_1.sendAdaTransaction(body);
            expect(txData).toHaveProperty('txId');
        }
        catch (e) {
            fail(e);
        }
    });
    it('should test KMS transaction sign', async () => {
        const transactionToBroadcast = await ada_1.signAdaKMSTransaction({
            chain: model_1.Currency.ADA,
            serializedTransaction: '{"fee":"0.5","changeAddress":"addr_test1qp33h99feurpn7n8cezqthh75723q5kjwqmthaf073y7edlg9xj6jj5qs9pe3nxq8rx59aa5qlmjrgsm0jt22hh3ll5q7n3j5s","txData":{"fromAddress":[{"address":"addr_test1qp33h99feurpn7n8cezqthh75723q5kjwqmthaf073y7edlg9xj6jj5qs9pe3nxq8rx59aa5qlmjrgsm0jt22hh3ll5q7n3j5s","signatureId":"b9e6fd31-fc14-4d2c-a3e2-21a23a7c81d0"}],"to":[{"address":"addr_test1qqr585tvlc7ylnqvz8pyqwauzrdu0mxag3m7q56grgmgu7sxu2hyfhlkwuxupa9d5085eunq2qywy7hvmvej456flknswgndm3","value":1}]},"privateKeysToSign":["b9e6fd31-fc14-4d2c-a3e2-21a23a7c81d0"]}',
            hashes: [
                'b9e6fd31-fc14-4d2c-a3e2-21a23a7c81d0'
            ],
            id: '60f67210baf4120bb057c1ce'
        }, [
            '2090e65cdf985bdada08ee383bfa24cb6c7143916fa948f1883ae1a6c0ff8e546fd2af77272c377a87aca22d75b71a95420c95378d1fd9e7f6a034b8312d47d341c9185113c7d9b2308523844e161f63d038497d7cdee1d989341ee38ef307d34893c218e0aff8561120e95e708fff007a935640f163c186d2865b4067cd959c'
        ]);
        expect(transactionToBroadcast).not.toBeNull();
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhLnNwZWMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdHJhbnNhY3Rpb24vYWRhLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvQ0FBMEQ7QUFDMUQsK0JBQXdGO0FBRXhGLFFBQVEsQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLEVBQUU7SUFDaEMsRUFBRSxDQUFDLG1EQUFtRCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2pFLE1BQU0sSUFBSSxHQUFHLElBQUksNkJBQXFCLEVBQUUsQ0FBQTtRQUN4QyxJQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQTtRQUNoQixJQUFJLENBQUMsYUFBYSxHQUFHLDhHQUE4RyxDQUFBO1FBQ25JLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQztnQkFDbEIsT0FBTyxFQUFFLDhHQUE4RztnQkFDdkgsVUFBVSxFQUFFLGtRQUFrUTthQUMvUSxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUM7Z0JBQ1QsT0FBTyxFQUFFLDhHQUE4RztnQkFDdkgsS0FBSyxFQUFFLENBQUM7YUFDVCxFQUFFO2dCQUNELE9BQU8sRUFBRSw4R0FBOEc7Z0JBQ3ZILEtBQUssRUFBRSxDQUFDO2FBQ1QsQ0FBQyxDQUFBO1FBQ0YsSUFBSTtZQUNGLE1BQU0sTUFBTSxHQUFHLE1BQU0sMkJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDaEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxzc0JBQXNzQixDQUFDLENBQUE7U0FDNXRCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2hCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNSO0lBQ0gsQ0FBQyxDQUFDLENBQUE7SUFFRixFQUFFLENBQUMsNkRBQTZELEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDM0UsTUFBTSxJQUFJLEdBQUcsSUFBSSw2QkFBcUIsRUFBRSxDQUFBO1FBQ3hDLElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFBO1FBQ2hCLElBQUksQ0FBQyxhQUFhLEdBQUcsOEdBQThHLENBQUE7UUFDbkksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDO2dCQUNsQixPQUFPLEVBQUUsOEdBQThHO2dCQUN2SCxVQUFVLEVBQUUsa1FBQWtRO2FBQy9RLENBQUMsQ0FBQTtRQUNGLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQztnQkFDVCxPQUFPLEVBQUUsOEdBQThHO2dCQUN2SCxLQUFLLEVBQUUsQ0FBQzthQUNULENBQUMsQ0FBQTtRQUNGLElBQUk7WUFDRixNQUFNLE1BQU0sR0FBRyxNQUFNLHdCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFBO1lBQzdDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtTQUN0QztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ1I7SUFDSCxDQUFDLENBQUMsQ0FBQTtJQUVGLEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUM1RCxNQUFNLElBQUksR0FBRyxJQUFJLDZCQUFxQixFQUFFLENBQUE7UUFDeEMsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUE7UUFDaEIsSUFBSSxDQUFDLGFBQWEsR0FBRyw4R0FBOEcsQ0FBQTtRQUNuSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUM7Z0JBQ2YsTUFBTSxFQUFFLGtFQUFrRTtnQkFDMUUsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsVUFBVSxFQUFFLGtRQUFrUTthQUMvUSxDQUFDLENBQUE7UUFDRixJQUFJLENBQUMsRUFBRSxHQUFHLENBQUM7Z0JBQ1QsT0FBTyxFQUFFLDhHQUE4RztnQkFDdkgsS0FBSyxFQUFFLENBQUM7YUFDVCxFQUFFO2dCQUNELE9BQU8sRUFBRSw4R0FBOEc7Z0JBQ3ZILEtBQUssRUFBRSxDQUFDO2FBQ1QsQ0FBQyxDQUFBO1FBQ0YsSUFBSTtZQUNGLE1BQU0sTUFBTSxHQUFHLE1BQU0sd0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDN0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtTQUN0QztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1YsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1NBQ1I7SUFDSCxDQUFDLENBQUMsQ0FBQTtJQUVGLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxLQUFLLElBQUksRUFBRTtRQUNoRCxNQUFNLHNCQUFzQixHQUFHLE1BQU0sMkJBQXFCLENBQUU7WUFDMUQsS0FBSyxFQUFFLGdCQUFRLENBQUMsR0FBRztZQUNuQixxQkFBcUIsRUFBRSxraUJBQWtpQjtZQUN6akIsTUFBTSxFQUNKO2dCQUNFLHNDQUFzQzthQUN2QztZQUNILEVBQUUsRUFBRSwwQkFBMEI7U0FDL0IsRUFBRTtZQUNELGtRQUFrUTtTQUNuUSxDQUFDLENBQUE7UUFDRixNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDL0MsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSJ9