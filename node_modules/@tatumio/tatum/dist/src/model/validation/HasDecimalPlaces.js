"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HasDecimalPlaces = void 0;
const bignumber_js_1 = require("bignumber.js");
const class_validator_1 = require("class-validator");
function HasDecimalPlaces(decimals, validationOptions) {
    return class_validator_1.ValidateBy({
        name: 'hasDecimalPlaces',
        constraints: [decimals],
        validator: {
            validate: (value) => new bignumber_js_1.BigNumber(value).decimalPlaces() <= decimals,
            defaultMessage: class_validator_1.buildMessage(eachPrefix => eachPrefix + '$property must have less than or equal to $constraint1 decimals', validationOptions),
        }
    }, validationOptions);
}
exports.HasDecimalPlaces = HasDecimalPlaces;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGFzRGVjaW1hbFBsYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2RlbC92YWxpZGF0aW9uL0hhc0RlY2ltYWxQbGFjZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsK0NBQXVDO0FBQ3ZDLHFEQUE0RTtBQUU1RSxTQUFnQixnQkFBZ0IsQ0FBQyxRQUFnQixFQUFFLGlCQUFxQztJQUNwRixPQUFPLDRCQUFVLENBQUM7UUFDZCxJQUFJLEVBQUUsa0JBQWtCO1FBQ3hCLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQztRQUN2QixTQUFTLEVBQUU7WUFDUCxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksd0JBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxRQUFRO1lBQ3JFLGNBQWMsRUFBRSw4QkFBWSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsVUFBVSxHQUFHLGlFQUFpRSxFQUFFLGlCQUFpQixDQUFDO1NBQ2hKO0tBQ0osRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0FBQzFCLENBQUM7QUFURCw0Q0FTQyJ9