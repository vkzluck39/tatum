"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PriceDecimalValidator = void 0;
const bignumber_js_1 = require("bignumber.js");
const class_validator_1 = require("class-validator");
let PriceDecimalValidator = class PriceDecimalValidator {
    defaultMessage(validationArguments) {
        return 'price can\'t have more then 18 decimals.';
    }
    validate(value, validationArguments) {
        if (value.erc20Address) {
            return new bignumber_js_1.BigNumber(value.price || 0).decimalPlaces() <= 18;
        }
        return true;
    }
};
PriceDecimalValidator = __decorate([
    class_validator_1.ValidatorConstraint({ name: 'priceDecimalValidator', async: false })
], PriceDecimalValidator);
exports.PriceDecimalValidator = PriceDecimalValidator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpY2VEZWNpbWFsVmFsaWRhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL21vZGVsL3ZhbGlkYXRpb24vUHJpY2VEZWNpbWFsVmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLCtDQUF1QztBQUN2QyxxREFBdUc7QUFHdkcsSUFBYSxxQkFBcUIsR0FBbEMsTUFBYSxxQkFBcUI7SUFDdkIsY0FBYyxDQUFDLG1CQUF5QztRQUMzRCxPQUFPLDBDQUEwQyxDQUFDO0lBQ3RELENBQUM7SUFFTSxRQUFRLENBQUMsS0FBVSxFQUFFLG1CQUF5QztRQUNqRSxJQUFJLEtBQUssQ0FBQyxZQUFZLEVBQUU7WUFDcEIsT0FBTyxJQUFJLHdCQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUM7U0FDaEU7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBRUosQ0FBQTtBQVpZLHFCQUFxQjtJQURqQyxxQ0FBbUIsQ0FBQyxFQUFDLElBQUksRUFBRSx1QkFBdUIsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUM7R0FDdEQscUJBQXFCLENBWWpDO0FBWlksc0RBQXFCIn0=